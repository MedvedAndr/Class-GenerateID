# Class GenerateID() v2.0.0

"Ручной" генератор ID для таблиц.
Класс подходит для проектов, в которых необходимо использовать уникальный ID, сгенерированный в ручную, и автоинкрементный ID не подходит (например, мультиязычность, где каждая языковая версия хранится отдельной записью и требуется связать их через общий ID).

Класс гарантирует уникальность сгенерированного ID в рамках выбранной таблицы и колонки, а также защищает от дублей при параллельных запросах через резервирование ID в кэше.

## Совместимость

Класс разработан для **Laravel 11** и использует компоненты `Cache`, `DB` и `Log` из `Illuminate\Support\Facades`.

## Основные методы

### ->table(string $table_name) (обязателен)

Задаёт таблицу в БД, для которой будет присходить генерация. Принимает строку с наименованием таблицы.

### ->column(string $column_name)

Задаёт колонку, в которой хранится ID. Принимает строку с наиманованием колонки. По-умолчанию 'aid' (Alternative ID).

### ->length(int $length)

Задаёт длину генерируемого ID. Принимает число. По-умолчанию 11.

### ->force(string $force_id)

Задаёт принудительный ID, который будет проверен на уникальность и применен, если его нет в БД. Если же такой ID уже есть, то будет сгенерирован новый в штатном режиме. Принимает строку из набора символов.

### ->alphabet(array $alphabet)

Задаёт набор символов для генерации. Принимает массив с перечнем символов. По-умолчанию ['a', ... 'z', '0', ... '9'].

### ->maxGenerate(int $attempts)

Задаёт количество попыток неудачных генераций. Принимает число. По-умолчанию 20.

### ->useCache(bool $use_cache = false)

Задаёт использование кэша. Принимает true или false. По умолчанию кэш включён (эквивалентно ->useCache(true)). Если нужно отключить — используйте ->useCache(false).

### ->lockTtl(int $seconds)

Задаёт время жизни кэша в секундах. Принимает число. По умолчанию 1800.

### ->get()

Проверяет и формирует ID.

## Пример использования

```php
use App\Services\GenerateID;

$id = (new GenerateID())
    ->table('articles')
    ->length(15)
    ->useCache(true)
    ->get();

// $id — уникальный идентификатор для таблицы `articles`
```
